<!DOCTYPE html>
<html lang="et">
<head>
  <meta charset="UTF-8">
  <title>ğŸ€MusamAIağŸ„JÃ•ULUERIâ˜ƒï¸</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- PÃ¤is -->
  <div id="header">
    <div class="header-row">
      <h2>VÃ•TA vÃµi JÃ„TA!</h2>
      <div class="header-actions">
         </div> 
       <div class="banner-container">
      <div id="bannerText">ğŸ„ HÃ„ID JÃ•ULE! ğŸ…</div>
    </div>
        <!-- Mailto nupp Ã¼mbriku ikooniga -->
        <a href="mailto:info@kahem.info" class="mailto-btn" title="Saada meil">âœ‰</a>
        <!-- Loe siit nupp -->
        <button id="rulesBtn" class="rules-btn" title="Loe juhiseid">ğŸ“– Loe siit</button>
        <!-- Admin vaate avamine -->
        <button id="adminBtn" class="admin-btn" title="Ava admin-vaade">ğŸ”’ Admin</button>
      </div>
       

    <!-- SÃµnumi postkast pÃ¤ises -->
    <form id="postkast" class="postkast">
      <input type="text" id="postMessage" placeholder="Sisesta sÃµnum otsepostituseks (salvestub Messages tabelisse)">
      <button type="submit">Saada</button>
    </form>
  </div>

  <!-- Juhiste modal -->
  <div id="rulesModal" class="modal">
    <div class="modal-content">
      <h3>Lehe eeskirjad ja juhised</h3>
      <div class="modal-body">
        <p>
          
ğŸ„See on jÃµulueri â€“ lood on kÃµigile vabalt kÃ¤ttesaadavad ja kasutatavad
o	Kasuta pleieri nuppe ainult Ã¼ks lugu korraga.<br>
o	Kommentaari Salvesta nupp lisab kirje Message tabelisse,<br> 
kus nad seotakse vastava loo ID-ga.<br>
o	Hinnang tÃ¤rnidega (â˜…â˜…â˜…â˜…â˜…) salvestub tabelisse.<br> 
o	PÃ¤ise sÃµnumid samuti lisanduvad Message tabelisse.<br>
o	Lae alla nupp laeb loo otse brauserisse mp3 failina.<br>
o	Pealkirjad on hetkel kaootilised teatud keelenÃµuete tÃµttu.<br>
o	Kasutuseskirjad vastavalt CC BY NC.<br>
o	Tabeli sisu sÃµltub kuulajatest ja nende arvamustest, iga klikk loeb.<br>
o	Erisoovid ja muu isiklik ikka postkastiâœ‰ï¸.<br>

        </p>
      </div>
      <div class="modal-actions">
        <button id="closeModal">Sulge</button>
      </div>
    </div>
  </div>

  <!-- Laulude tabel -->
 <div class="kihelkonna-banners">
  <div class="header-row">
    <h1>Laulude tabel</h1>

 <!-- QR-nupp -->
<button class="qr-btn" onclick="document.getElementById('qrModal').style.display='block'">
  Ava QR-kood
</button>

<!-- Modal -->
<div id="qrModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="document.getElementById('qrModal').style.display='none'">&times;</span>
    <h2>SkÃ¤nni QR</h2>
    <img src="qrcode.png" alt="QR kood" width="400" height="400">
    <p><a href="https://kahemk.github.io/Aisakellad/">Aisakellad leht</a></p>
  </div>
</div>

    <!-- BÃ¤nnerid -->
    <div class="banner laane-nigula">
      <div class="chevron"></div>
    </div>
    <div class="banner ridala">
      <div class="chevron"></div>
    </div>
  </div>
</div>

<table id="songsTable">
  <thead>
    <tr>
      <th>ID</th>
      <th>Pealkiri</th>
      <th>Pleier</th>
      <th>Hinnang</th>
      <th>Kommentaar</th>
      <th>Lae alla</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<!-- Admin-vaade -->
<div id="adminPanel" class="admin-panel">
  <div class="admin-header">
    <h3>Admin-vaade</h3>
    <div class="admin-controls">
      <select id="msgFilter">
        <option value="all">KÃµik</option>
        <option value="header">Ainult pÃ¤ise sÃµnumid</option>
        <option value="song">Ainult loo kommentaarid</option>
      </select>
      <input type="text" id="msgSearch" placeholder="Otsi sÃµnumi tekstist">
      <button id="msgRefresh">VÃ¤rskenda</button>
      <button id="adminClose">Sulge</button>
    </div>
  </div>

  <div class="admin-content">
    <!-- Messages tabel -->
    <h3>Messages tabel</h3>
    <table id="messagesTable" border="1" cellpadding="6" cellspacing="0" style="width:100%; border-collapse:collapse;">
      <thead style="background:#f0f0f0;">
        <tr>
          <th>ID</th>
          <th>Created At</th>
          <th>Message</th>
          <th>Song ID</th>
          <th>User ID</th>
        </tr>
      </thead>
      <tbody id="messages-body"></tbody>
    </table>
  </div>

  <div class="admin-content">
    <!-- SongNotes tabel -->
    <h3>SongNotes tabel</h3>
    <table id="notesTable" border="1" cellpadding="6" cellspacing="0" style="width:100%; border-collapse:collapse;">
      <thead style="background:#f0f0f0;">
        <tr>
          <th>ID</th>
          <th>Pealkiri + Description</th>
          <th>Salvesta</th>
        </tr>
      </thead>
      <tbody id="notes-body"></tbody>
    </table>
  </div>
</div>

    <!-- Supabase JS -->
  
  <script type="module" src="player.js"></script>
  <script type="module" src="admin.js"></script>

  

<!-- Liikuva bÃ¤nneri animatsioon -->
<script>
// Reguleeritavad parameetrid
const speed = 2;            // pikslit kaadri kohta (kiirus)
const repeatCount = 3;      // mitu korda jÃ¤rjest lÃ¤bib
const pauseTime = 2000;     // paus millisekundites iga tsÃ¼kli sees
const cyclePause = 60000;   // paus millisekundites tsÃ¼klite vahel (nt 60 sekundit)

const banner = document.getElementById("bannerText");
const container = document.querySelector(".banner-container");

function runCycle() {
  let count = 0;

  function animateBanner() {
    let pos = -banner.offsetWidth;
    banner.style.left = pos + "px";

    function frame() {
      pos += speed;
      banner.style.left = pos + "px";

      if (pos < container.offsetWidth) {
        requestAnimationFrame(frame);
      } else {
        count++;
        if (count < repeatCount) {
          setTimeout(animateBanner, pauseTime);
        } else {
          // jÃ¤Ã¤b keskele seisma tsÃ¼kli lÃµpus
          banner.style.left = (container.offsetWidth / 2 - banner.offsetWidth / 2) + "px";
          // alustame uut tsÃ¼klit pÃ¤rast cyclePause
          setTimeout(runCycle, cyclePause);
        }
      }
    }

    requestAnimationFrame(frame);
  }

  animateBanner();
}

// KÃ¤ivitame esimese tsÃ¼kli
runCycle();

</script>
</body>
</html>



  























